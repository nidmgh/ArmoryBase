# 八卦 (五）瑞士军刀： Survial Rifle 10/22 Takedown vs. 随身携带的SQLite

**此文以八卦为主，如果认真，你我就都输了**


数据库打工仔在擦拭枪支时，喃喃自语的八卦历史。

## 产品设计
作为产品设计/产品管理的从业人士，日常工作的一个核心就是明确产品的优势和定位。其实产品设计中还有一个更加重要，又长长被忽略的维度： 产品**边界**

在前文讨论过PostgreSQL，代表经典的数据库设计。作为稳定成熟的关系数据库产品，PG既具有较强的事务性能力，也有丰富的SQL功能带来的分析性能力。PG也提供了时空(Geometric Types, PostGiS)，文本（JSON/JSONB)，还有时序（Timescale, 基于PG的时序分析数据库）。但是PG本身并不会宣传/宣称自己是全能全才。

姚明是中锋，并不是说他不能像后卫一样投三分，只是他明确的知道自己的长处和定位

我们今天就讨论一个数据库专注细分领域的，甚至可以说是小众的，但是又最流行的产品 **SQLite**

## SQLite - 兆级数据库（1000B） 

从数据库实例维度，全世界最流行的数据库，正在运行的SQLite超过万亿，因为每一位现代人日常使用多个SQLite[^1]: 

* 所有的Android手机/手环（华为，小米，三星...)
* 所有的苹果iOS设备手机/Pad/手表
* 所有的苹果电脑 Mac
* 所有的微软Windows10电脑
* 通用浏览器（Firefox, Chrome, and Safari）
* 智能电脑/机顶盒
* 车载多媒体系统
* .... 

### 最小的标准数据库RDBMS

* 小而精

通过C编写，经历20多年后，SQLite的发布版只有小小的700KB，今日头条（ andriod版）的安装后大小161MB，1:200的关系。对了，今日头条APP中很可能也用了SQLite（请字节同学确认，同样问题抛个阿里淘宝，腾讯微信）

* 标准数据库

	1. 支持数据库最重要的事务ACID。
	2. 兼容标准的SQL syntax，SQLite 1.0（2000年） 使用PostgreSQL 6.5(1999年) 语法。
	3. C/C++ interface作为原始编程语言接口，为后期衍生开发提供可扩展的链接

* 嵌入式

大家熟悉数据库系统，Oracle, DB2, MySQL等，是存在于应用程序之外的独立系统，一个Oracle为多个应用服务。银行系统为例，应用(application)包括存取（强事务write)，流水单（单储户Readonly），储户流存（月底报表, BI Report)

SQLite是嵌入式的数据库，作为应用（APP）的一个部件，同时安装。同应用和用户常常都是一对一关系。

* "官方"认证

美国国会图书馆，又称美国国家图书馆（Library of Congress) 指定的独立于平台的开放格式的四种数据存储格式之一[^2]。

岔开一句：中国和欧美IT技术开发既有相似处，比如美国为联邦政府提供IT软件服务也有类似中国的认证流程，本着对纳税人负责的态度，严谨但有时也死板，同时政府也常常是重要的金主甲方；不同点是，IT的大方向常常是技术公司引导的，比如说Telsa/SpaceX的技术突破就不是政府引导。

具体到这个国家图书馆的“官方”认证，说起来很有力，其实对于SQLite的成败影响力就非常有效了。如果读者有一天进军欧美市场，有一点建议： 业务销售人员要积极关注政府合规认证，技术开发人员专注设计前沿和产品实现，切记迎合政府。

## 产品设计
产品设计，开发实现与应用实践，三者之间不是流水线/waterfall的研发，而是循环往复，螺旋上升的。

SQLite由Hipp开发的，他也是计算机领中N多个从学校肄业的大牛之一，区别在于Hipp是在Duke读博士的时候才悟出来的，比Gates(大三） 和Jobs(大一）就逊色一下。2000年甲方爸爸，世界五大国防工业提供商（俗称军火制造商）之一，列入Fortune 100的 通用动力公司（General Dynamics）需要为美国海军的导弹驱逐舰上的提供软件系统。Hipp作为合同工接到了损管控制系统的单子，


### 一点忠告

岔开一句：中国和欧美IT技术开发既有相似处，比如美国为联邦政府提供IT软件服务也有类似中国的认证流程，本着对纳税人负责的态度，严谨但有时也死板，同时政府也常常是重要的金主甲方；不同点是，IT的大方向常常是技术公司引导的，比如说Telsa/SpaceX的技术突破就不是政府引导。

具体到这个国家图书馆的“官方”认证，说起来很有力，其实对于SQLite的成败影响力就非常有效了。如果读者有一天进军欧美市场，有一点建议： 业务销售人员要积极关注政府合规认证，技术开发人员专注设计前沿和产品实现，切记迎合政府。

## 八卦篇
提到小而精的经典程序，必须跪拜一下阿波罗登月计划中的**AGC系统**，提供登月过程中航天器的制导、导航和控制。全部系统安装在72KB的只读ROM里(头条APP的2千分之一），运行空间是4KB(byte) RAM（约为本篇Markdown文本的二分之一）。友情奉送[Github](https://github.com/chrislgarry/Apollo-11/blob/master/README.zh_cn.md)打卡地址，膜拜一下阿波罗 11 号制导AGC中指令模块（Comanche055）和登月模块（Luminary099）原码。


[^1]: https://www.sqlite.org/mostdeployed.html
[^2]: https://www.loc.gov/preservation/resources/rfs/data.html
[^3]: https://www.discovermagazine.com/the-sciences/apollo-11s-1202-alarm-explained
[^4]: https://en.wikipedia.org/wiki/Apollo_Guidance_Computer
[^5]: https://github.com/chrislgarry/Apollo-11/
## 10/22 Takedown

### 业务场景： survival 

不是什么：
1.  不是战争
2. 不是大big game
3. 不是远距离

 
关键指数：
1. 重量
2. 体积 
3.  
